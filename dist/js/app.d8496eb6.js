(function(e){function t(t){for(var n,a,s=t[0],c=t[1],u=t[2],l=0,d=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);m&&m(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,a=1;a<r.length;a++){var s=r[a];0!==i[s]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={app:0},i={app:0},o=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-12f1b3e8":"62e76f6b","chunk-1b0c9a16":"3507d5ab","chunk-1fe7fbb7":"e1a9d491","chunk-270dbe5c":"17a9d855","chunk-4ccf9cf6":"ba877c03","chunk-746908e5":"9a57655f","chunk-aa2abbc2":"ec2e7d8b","chunk-acba138e":"5b5a9911"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r={"chunk-12f1b3e8":1,"chunk-1b0c9a16":1,"chunk-1fe7fbb7":1,"chunk-270dbe5c":1,"chunk-4ccf9cf6":1,"chunk-aa2abbc2":1,"chunk-acba138e":1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise((function(t,r){for(var n="css/"+({}[e]||e)+"."+{"chunk-12f1b3e8":"6df0aa46","chunk-1b0c9a16":"f147482f","chunk-1fe7fbb7":"9ce7a8df","chunk-270dbe5c":"7b48e0d9","chunk-4ccf9cf6":"c16eddce","chunk-746908e5":"31d6cfe0","chunk-aa2abbc2":"e90d16b9","chunk-acba138e":"4d1f5099"}[e]+".css",i=c.p+n,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var u=o[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===n||l===i)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var n=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete a[e],m.parentNode.removeChild(m),r(o)},m.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){a[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(m);var r=i[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",d.name="ChunkLoadError",d.type=n,d.request=a,r[1](d)}i[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=l;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1064:function(e,t,r){e.exports=r.p+"img/firstbackground.5e2b72d8.png"},"183b":function(e,t,r){e.exports=r.p+"img/vegetarian.5702bc0f.png"},"1aef":function(e,t,r){},"2a33":function(e,t,r){"use strict";var n=r("517b"),a=r.n(n);a.a},"517b":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("4160"),r("d3b7"),r("159b"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{"background-image":"url("+r("1064")+")"},attrs:{id:"app"}},[n("b-navbar",[n("b-navbar-nav",[n("b-nav-item",{attrs:{href:"#"}},[n("router-link",{attrs:{to:{name:"main"}}},[e._v("Main")])],1),n("b-nav-item",[n("router-link",{attrs:{to:{name:"search"}}},[e._v("Search")])],1),n("b-nav-item",{attrs:{href:"#"}},[n("router-link",{attrs:{to:{name:"about"}}},[e._v(" About ")])],1)],1),e.$root.store.username?n("b-navbar-nav",{attrs:{id:"loggedInUser"}},[n("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.add-recipe-modal",modifiers:{"add-recipe-modal":!0}}]},[e._v(" Create New Recipe ")]),n("NewRecipeModal"),n("b-nav-item-dropdown",{attrs:{type:"dark",variant:"light",text:"Personal"}},[n("b-dropdown-item",{attrs:{href:"#",id:"favorites"}},[n("router-link",{attrs:{to:{name:"myfavoriterecipes"}}},[e._v(" My Favorite Recipes ")])],1),n("b-dropdown-item",{attrs:{id:"myRecipes"}},[n("router-link",{attrs:{to:{name:"myrecipes"}}},[e._v("My Recipes")])],1),n("b-dropdown-item",[n("router-link",{attrs:{to:{name:"myfamilyrecipes"}}},[e._v("My Family Recipes")])],1)],1),n("b-nav-item",[e._v(" Hello "+e._s(e.$root.store.username)+" ")]),n("b-nav-item",{on:{click:e.Logout}},[e._v(" Logout ")])],1):n("b-navbar-nav",[n("b-nav-item",[e._v(" Hello Guest ")]),n("b-nav-item",[n("router-link",{attrs:{to:{name:"register"}}},[e._v("Register")])],1),n("b-nav-item",[n("router-link",{attrs:{to:{name:"login"}}},[e._v("Login")])],1)],1)],1),n("router-view")],1)},i=[],o=(r("96cf"),r("1da1")),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{ref:"modal",attrs:{id:"add-recipe-modal",title:"Add New Recipe"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[e._v("Ceate You're New Recipe: "),r("br"),r("br"),r("b-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)},reset:function(t){return t.preventDefault(),e.resetModal(t)}}},[r("b-form-group",{attrs:{label:"Recipe's Title: ","label-for":"title-input"}},[r("b-form-input",{attrs:{id:"title-input",type:"text",state:e.validateState("title")},model:{value:e.$v.form.title.$model,callback:function(t){e.$set(e.$v.form.title,"$model",t)},expression:"$v.form.title.$model"}}),e.$v.form.title.required?e._e():r("b-form-invalid-feedback",[e._v(" Recipes's title is required ")]),e.$v.form.title.alpha?e._e():r("b-form-invalid-feedback",[e._v(" Recipce's title can only contain letters ")])],1),r("b-form-group",{attrs:{label:"Recipe's image URL: ","label-for":"image-input"}},[r("b-form-input",{attrs:{id:"image-input",type:"url",state:e.validateState("image")},model:{value:e.$v.form.image.$model,callback:function(t){e.$set(e.$v.form.image,"$model",t)},expression:"$v.form.image.$model"}}),e.$v.form.title.required?e._e():r("b-form-invalid-feedback",[e._v(" Recipe's image URL is required ")]),e.$v.form.title.url?e._e():r("b-form-invalid-feedback",[e._v(" Recipe's image URL should be URL ")])],1),r("b-form-group",{attrs:{label:"Recipe's Servings: ","label-for":"servings-input"}},[r("b-form-input",{attrs:{id:"servings-input",type:"number",min:"1",state:e.validateState("servings")},model:{value:e.$v.form.servings.$model,callback:function(t){e.$set(e.$v.form.servings,"$model",t)},expression:"$v.form.servings.$model"}}),e.$v.form.servings.required?e._e():r("b-form-invalid-feedback",[e._v(" Recipe's servings is required ")]),e.$v.form.servings.numeric?e._e():r("b-form-invalid-feedback",[e._v(" Recipe's servings should be numeric ")])],1),r("b-form-group",{attrs:{label:"Recipe's Time: ","label-for":"readyInMinutes-input"}},[r("b-form-input",{attrs:{id:"readyInMinutes-input",type:"number",min:"1",state:e.validateState("readyInMinutes")},model:{value:e.$v.form.readyInMinutes.$model,callback:function(t){e.$set(e.$v.form.readyInMinutes,"$model",t)},expression:"$v.form.readyInMinutes.$model"}}),e.$v.form.readyInMinutes.required?e._e():r("b-form-invalid-feedback",[e._v(" Recipe's time is required ")]),e.$v.form.readyInMinutes.numeric?e._e():r("b-form-invalid-feedback",[e._v(" Recipe's time should be numeric ")])],1),r("b-form-group",{attrs:{label:"Vegan: ","label-for":"vegan-input"}},[r("b-form-checkbox",{staticClass:"mr-n2 mb-n1",attrs:{switch:"",id:"vegan-input"},model:{value:e.form.vegan,callback:function(t){e.$set(e.form,"vegan",t)},expression:"form.vegan"}},[r("span",{staticClass:"sr-only"})])],1),r("b-form-group",{attrs:{label:"Vegetarian: ","label-for":"vegetarian-input"}},[r("b-form-checkbox",{staticClass:"mr-n2 mb-n1",attrs:{switch:"",id:"vegetarian-input"},model:{value:e.form.vegetarian,callback:function(t){e.$set(e.form,"vegetarian",t)},expression:"form.vegetarian"}},[r("span",{staticClass:"sr-only"})])],1),r("b-form-group",{attrs:{label:"Gluten Free: ","label-for":"gluten_free-input"}},[r("b-form-checkbox",{staticClass:"mr-n2 mb-n1",attrs:{switch:"",id:"gluten-free-input"},model:{value:e.form.gluten_free,callback:function(t){e.$set(e.form,"gluten_free",t)},expression:"form.gluten_free"}},[r("span",{staticClass:"sr-only"})])],1)],1),r("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[r("label",[e._v("Ingredients:")]),e._l(e.$v.form.ingrediants.$each.$iter,(function(t){return r("b-form-group",{key:t.key},[r("b-form-input",{attrs:{state:e.validateState("ingrediants"),type:"text",required:"",placeholder:"Ingredient"},model:{value:t.value.$model,callback:function(r){e.$set(t.value,"$model","string"===typeof r?r.trim():r)},expression:"ing.value.$model"}}),t.value.required?e._e():r("b-form-invalid-feedback",[e._v(" Recipes's ingredient is required ")])],1)})),r("b-button-toolbar",[r("b-button-group",[r("b-button",{attrs:{title:"Add Ingrediant",variant:"outline-primary"},on:{click:e.addIngredient}},[r("b-icon",{attrs:{icon:"plus","aria-hidden":"true"}})],1),r("b-button",{attrs:{title:"Remove Ingrediant",variant:"outline-primary"},on:{click:e.removeIngredient}},[r("b-icon",{attrs:{icon:"dash","aria-hidden":"true"}})],1)],1)],1)],2),r("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[r("label",[e._v("Instructions:")]),e._l(e.$v.form.instractions.$each.$iter,(function(t){return r("b-form-group",{key:t.key},[r("b-form-input",{attrs:{state:e.validateState("instractions"),type:"text",required:"",placeholder:"Instruction"},model:{value:t.value.$model,callback:function(r){e.$set(t.value,"$model","string"===typeof r?r.trim():r)},expression:"ins.value.$model"}}),t.value.required?e._e():r("b-form-invalid-feedback",[e._v(" Recipes's instruction is required ")])],1)})),r("b-button-toolbar",[r("b-button-group",[r("b-button",{attrs:{title:"Add Instruction",variant:"outline-primary"},on:{click:e.addInstruction}},[r("b-icon",{attrs:{icon:"plus","aria-hidden":"true"}})],1),r("b-button",{attrs:{title:"Remove Instruction",variant:"outline-primary"},on:{click:e.removeInstruction}},[r("b-icon",{attrs:{icon:"dash","aria-hidden":"true"}})],1)],1)],1)],2)],1)},c=[],u=r("6aac"),l=r("b5ae"),d={name:"NewRecipe",data:function(){return{form:{title:void 0,image:void 0,servings:void 0,readyInMinutes:void 0,vegan:!1,vegetarian:!1,gluten_free:!1,ingrediants:[{key:1,value:void 0}],instractions:[{key:1,value:void 0}],popularity:0,submitError:void 0},ingrediantsCounter:1,instructionsCounter:1}},comments:{BModal:u["a"]},validations:{form:{title:{required:l["required"],alpha:l["alpha"]},image:{required:l["required"],url:l["url"]},servings:{required:l["required"],numeric:l["numeric"]},readyInMinutes:{required:l["required"],numeric:l["numeric"]},ingrediants:{$each:{value:{required:l["required"]}}},instractions:{$each:{value:{required:l["required"]}}}}},methods:{validateState:function(e){var t=this.$v.form[e],r=t.$dirty,n=t.$error;return r?!n:null},resetModal:function(){var e=this;this.form={title:void 0,image:void 0,servings:void 0,readyInMinutes:void 0,vegan:!1,vegetarian:!1,gluten_free:!1,ingrediants:[{key:1,value:void 0}],instractions:[{key:1,value:void 0}],popularity:0,submitError:void 0},this.$nextTick((function(){e.$v.$reset()}))},handleOk:function(e){e.preventDefault(),this.$v.form.$touch(),this.$v.form.$anyError||this.handleSubmit()},createNewRecipe:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(t.prev=0,r=[],n=0;n<e.ingrediantsCounter;n++)r[n]=e.form.ingrediants[n].value;for(a=[],i=0;i<e.instructionsCounter;i++)a[i]=e.form.instractions[i].value;return t.next=7,e.axios.post(e.$root.store.server_domain+"/user/myRecipes",{title:e.form.title,image:e.form.image,readyInMinutes:e.form.readyInMinutes,popularity:e.form.popularity,vegan:e.form.vegan,vegetarian:e.form.vegetarian,gluten_free:e.form.gluten_free,ingrediants:r,instructions:a,servings:e.form.servings},{withCredentials:!0});case 7:o=t.sent,200==o.status&&e.$root.toast("Created New Recipe","New recipe added successfully","success"),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0.response),e.form.submitError=t.t0.response.data.message;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},handleSubmit:function(){var e=this;this.createNewRecipe(),this.$nextTick((function(){e.$bvModal.hide("add-recipe-modal")}))},addIngredient:function(){this.ingrediantsCounter+=1,this.form.ingrediants.push({key:this.ingrediantsCounter,value:void 0})},addInstruction:function(){this.instructionsCounter+=1,this.form.instractions.push({key:this.instructionsCounter,value:void 0})},removeIngredient:function(){this.ingrediantsCounter>1&&(this.ingrediantsCounter-=1,this.form.ingrediants.pop())},removeInstruction:function(){this.instructionsCounter>1&&(this.instructionsCounter-=1,this.form.instractions.pop())}}},m=d,p=r("2877"),f=Object(p["a"])(m,s,c,!1,null,"2203150a",null),v=f.exports,b={name:"App",components:{NewRecipeModal:v},methods:{Logout:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.post(e.$root.store.server_domain+"/Logout");case 3:r=t.sent,e.$root.store.logout(),"logout succeeded"==r.message&&(e.$root.toast("Logout","User logged out successfully","success"),e.$router.push("/")["catch"]((function(){e.$forceUpdate()}))),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0.response),e.form.submitError=t.t0.response.data.message;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}},h=b,g=(r("5c0b"),Object(p["a"])(h,a,i,!1,null,null,null)),y=g.exports,k=r("a7fe"),_=r.n(k),w=r("bc3a"),$=r.n(w),x={server_domain:"https://foodYN.cs.bgu.ac.il"},R=x,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",{staticClass:"title"},[e._v("Main Page")]),r("div",{staticClass:"right-div"},[r("RecipePreviewList",{staticClass:"RandomRecipes center",attrs:{title:"Explore This Recipes",log_in:Boolean(e.$root.store.username)}})],1),r("div",{staticClass:"left-div"},[e.$root.store.username?r("RecipePreviewList",{class:{RandomRecipes:!0,center:!0},attrs:{title:"Last Viewed Recipes",log_in:Boolean(e.$root.store.username),disabled:""}}):r("LogInMainPage")],1),r("div",{staticStyle:{position:"absolute",top:"70%",left:"50%",transform:"translate(-50%, -50%)"}})])},C=[],q=r("99d8"),I=r("af32"),L={components:{RecipePreviewList:q["a"],LogInMainPage:I["a"]},data:function(){return{rerandom:!1}},methods:{onRandonRecipes:function(){this.rerandom?this.rerandom=!1:this.rerandom=!0}}},O=L,j=(r("82a2"),Object(p["a"])(O,S,C,!1,null,"47f3e90b",null)),M=j.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",[e._v("Four Oh Four you didn't")]),r("router-link",{attrs:{to:"/",exact:""}},[e._v("ET Go Home")])],1)},P=[],T={},N=Object(p["a"])(T,E,P,!1,null,null,null),F=N.exports,U=[{path:"/",name:"main",component:M},{path:"/register",name:"register",component:function(){return r.e("chunk-4ccf9cf6").then(r.bind(null,"eaff"))}},{path:"/login",name:"login",component:function(){return r.e("chunk-270dbe5c").then(r.bind(null,"62cc"))}},{path:"/search",name:"search",component:function(){return r.e("chunk-746908e5").then(r.bind(null,"37906"))}},{path:"/about",name:"about",component:function(){return r.e("chunk-acba138e").then(r.bind(null,"478b"))}},{path:"/recipe/:recipeId",name:"recipe",component:function(){return r.e("chunk-1b0c9a16").then(r.bind(null,"6619"))}},{path:"/myrecipes",name:"myrecipes",component:function(){return r.e("chunk-aa2abbc2").then(r.bind(null,"fda7"))}},{path:"/myfavoriterecipes",name:"myfavoriterecipes",component:function(){return r.e("chunk-12f1b3e8").then(r.bind(null,"b145"))}},{path:"/myfamilyrecipes",name:"myfamilyrecipes",component:function(){return r.e("chunk-1fe7fbb7").then(r.bind(null,"0bd5"))}},{path:"*",name:"notFound",component:F}],A=U,D=r("8c4f"),B=r("1dce"),V=r.n(B),H=(r("f9e3"),r("2dd8"),r("5f5b")),G=r("b1e0"),z=r("1073"),J=r("cbd0"),Q=r("b1fc"),Y=r("7049"),K=r("a7e2"),W=r("f9bc"),X=r("44d4"),Z=r("cca8"),ee=r("51c2"),te=r("498a");n["default"].use(D["a"]);var re=new D["a"]({routes:A});$.a.defaults.withCredentials=!0,n["default"].use(H["a"]),n["default"].use(G["a"]),[z["a"],J["a"],Q["a"],Y["a"],K["a"],W["a"],X["a"],Z["a"],ee["a"],te["a"]].forEach((function(e){return n["default"].use(e)})),n["default"].use(V.a),$.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),$.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),n["default"].use(_.a,$.a),n["default"].config.productionTip=!1;var ne={server_domain:R.server_domain,username:localStorage.username,lastSearch:localStorage.lastSearch,login:function(e){localStorage.setItem("username",e),this.username=e,console.log("login",this.username)},logout:function(){console.log("logout"),localStorage.removeItem("username"),localStorage.removeItem("lastSearch"),this.username=void 0},setLastSearch:function(e){localStorage.setItem("lastSearch",e),console.log("lastSearch",this.lastSearch)}};new n["default"]({router:re,data:function(){return{store:ne}},methods:{toast:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.$bvToast.toast("".concat(t),{title:"".concat(e),toaster:"b-toaster-top-center",variant:r,solid:!0,appendToast:n,autoHideDelay:3e3})}},render:function(e){return e(y)}}).$mount("#app")},"59c8":function(e,t,r){},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),a=r.n(n);a.a},"5e4f":function(e,t,r){"use strict";var n=r("b4de"),a=r.n(n);a.a},6247:function(e,t,r){e.exports=r.p+"img/gluten_free.a5199ead.png"},"7bea":function(e,t,r){e.exports=r.p+"img/vegan.b27f094a.png"},"82a2":function(e,t,r){"use strict";var n=r("59c8"),a=r.n(n);a.a},"99d8":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("h3",[e._v(" "+e._s(e.title)+": "),e._t("default")],2),e.no_results?r("div",[r("h4",[e._v("There is no results ☹️")])]):r("div",[r("b-row",e._l(e.recipes,(function(t){return r("b-row",{key:t.id},[r("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:t,log_in:e.log_in,title:e.title}})],1)})),1)],1)])},a=[],i=(r("4e82"),r("a9e3"),r("2909")),o=(r("96cf"),r("1da1")),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("router-link",{staticClass:"recipe-preview",attrs:{to:{name:"recipe",params:{recipeId:e.recipe.id,title:e.title}}}},[n("div",[n("b-card",{staticStyle:{width:"22rem",height:"34rem",color:"black"},attrs:{"img-src":e.recipe.image,"img-alt":"Image","img-top":""}},[n("b-card-header",{staticStyle:{width:"19.5rem",color:"white"},attrs:{header:e.recipe.title,"border-variant":e.watchedColor,"header-border-variant":e.watchedColor,"header-bg-variant":e.watchedColor}}),n("b-card-body",{staticClass:"recipe-body"},[n("b-avatar",{attrs:{variant:"transparent",icon:"clock",size:"2em"}}),e._v(" "+e._s(e.recipe.readyInMinutes)+" minutes | "),n("b-avatar",{attrs:{variant:"transparent",icon:"hand-thumbs-up",size:"2em"}}),e._v(" "+e._s(e.recipe.aggregateLikes)+" likes ")],1),n("b-card-body",{staticClass:"recipe-body"},[e.recipe.vegan?n("b-avatar",{staticStyle:{width:"2.5em",height:"3.3em"},attrs:{variant:"tranparent",src:r("7bea")}}):e._e(),e.recipe.vegetarian?n("b-avatar",{staticStyle:{width:"4.5em",height:"3em"},attrs:{variant:"tranparent",src:r("183b")}}):e._e(),e.recipe.glutenFree?n("b-avatar",{staticStyle:{width:"3.8em",height:"3em"},attrs:{variant:"tranparent",src:r("6247")}}):e._e()],1),e.$root.store.username?n("b-card-footer",{staticClass:"recipe-footer"},[this.favorite?n("b-button",{attrs:{variant:"outline-success",disabled:"false"}},[n("b-icon-star")],1):n("b-button",{attrs:{variant:"outline-dark"},on:{click:e.addToFavorite}},[n("b-icon-star")],1)],1):e._e()],1)],1)])],1)])},c=[],u={mounted:function(){var e=this;this.axios.get(this.recipe.image).then((function(t){e.image_load=!0}))},data:function(){return{image_load:!1,favorite:void 0,watchedColor:"dark"}},props:{recipe:{type:Object,required:!0},log_in:{type:Boolean,required:!1,default:!1},title:{type:String,required:!0}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.title),t.next=3,e.axios.get(e.$root.store.server_domain+"/recipes/isWatched?recipeId="+e.recipe.id,{withCredentials:!0});case 3:return r=t.sent,1==r.data&&(e.watchedColor="info"),t.next=7,e.axios.get(e.$root.store.server_domain+"/user/isAFavorites?recipeId="+e.recipe.id,{withCredentials:!0});case 7:n=t.sent,1==n.data&&(e.favorite=!0);case 9:case"end":return t.stop()}}),t)})))()},methods:{addToFavorite:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.post(e.$root.store.server_domain+"/user/favorites",{rec_id:e.recipe.recipeId,withCredentials:!0});case 3:t.sent,e.favorite=!0,t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0.response),e.form.submitError=t.t0.response.data.message;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}},l=u,d=(r("2a33"),r("2877")),m=Object(d["a"])(l,s,c,!1,null,"7ef09910",null),p=m.exports,f={name:"RecipePreviewList",components:{RecipePreview:p},props:{title:{type:String,required:!0},log_in:{type:Boolean,required:!1,default:!1},searched:{type:Number,required:!1},query:{type:String,required:!1},number:{type:String,required:!1},cuisine:{type:String,required:!1},diet:{type:String,required:!1},intolerance:{type:String,required:!1},sortby:{type:String,required:!1}},watch:{searched:{handler:function(){console.log("in watch"),this.searched>0&&(console.log("in searched function"),this.updateRecipes())},immediate:!0}},data:function(){return{recipes:[],no_results:!1}},created:function(){this.updateRecipes()},methods:{updateRecipes:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("in updateRecipes"),console.log(e.searched),t.prev=2,"Explore This Recipes"!=e.title){t.next=8;break}return t.next=6,e.randomRecipes();case 6:t.next=36;break;case 8:if("Last Viewed Recipes"!=e.title){t.next=13;break}return t.next=11,e.lastViewedRecipes();case 11:t.next=36;break;case 13:if("My Favorite Recipes"!=e.title){t.next=18;break}return t.next=16,e.favoriteRecipes();case 16:t.next=36;break;case 18:if("My Recipes"!=e.title){t.next=23;break}return t.next=21,e.myRecipes();case 21:t.next=36;break;case 23:if("My Family Recipes"!=e.title){t.next=28;break}return t.next=26,e.myFamilyRecipes();case 26:t.next=36;break;case 28:if("Search Results"!=e.title){t.next=33;break}return t.next=31,e.searchRecipes();case 31:t.next=36;break;case 33:if("Last Search"!=e.title){t.next=36;break}return t.next=36,e.LastSearch();case 36:t.next=41;break;case 38:t.prev=38,t.t0=t["catch"](2),console.log(t.t0);case 41:case"end":return t.stop()}}),t,null,[[2,38]])})))()},randomRecipes:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get(e.$root.store.server_domain+"/recipes/random");case 3:n=t.sent,a=n.data.recipes,e.recipes=[],(r=e.recipes).push.apply(r,Object(i["a"])(a)),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},lastViewedRecipes:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=[],console.log(e.$root.store.server_domain+"/recipes/watched"),t.next=5,e.axios.get(e.$root.store.server_domain+"/recipes/watched",{withCredentials:!0});case 5:r=t.sent,console.log(r),r==[]?e.no_results=!0:(n=r.data,e.recipes=[],(a=e.recipes).push.apply(a,Object(i["a"])(n))),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},favoriteRecipes:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e.$root.store.server_domain+"/user/favorites"),t.next=4,e.axios.get(e.$root.store.server_domain+"/user/favorites",{withCredentials:!0});case 4:r=t.sent,console.log(r),r==[]?e.no_results=!0:(n=r.data,e.recipes=[],(a=e.recipes).push.apply(a,Object(i["a"])(n))),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},myFamilyRecipes:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get(e.$root.store.server_domain+"/user/myFamilyRecipies",{withCredentials:!0});case 3:r=t.sent,console.log(r),0==r.data.length?e.no_results=!0:(n=r.data,e.recipes=[],(a=e.recipes).push.apply(a,Object(i["a"])(n))),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},myRecipes:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get(e.$root.store.server_domain+"/user/myRecipes",{withCredentials:!0});case 3:r=t.sent,console.log(r),0==r.data.length?e.no_results=!0:(n=r.data,e.recipes=[],(a=e.recipes).push.apply(a,Object(i["a"])(n))),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},searchRecipes:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("in searchRecipes"),t.prev=1,console.log(e.$root.store.server_domain+"/recipes/search?searchQuery="+e.query+"&number="+e.number+"&cuisine="+e.cuisine+"&diet="+e.diet+"&intolerances="+e.intolerances),t.next=5,e.axios.get(e.$root.store.server_domain+"/recipes/search?searchQuery="+e.query+"&number="+e.number+"&cuisine="+e.cuisine+"&diet="+e.diet+"&intolerances="+e.intolerances);case 5:r=t.sent,n=r.data,console.log(r.data),"There is no results!"==n?e.no_results=!0:(e.recipes=[],(a=e.recipes).push.apply(a,Object(i["a"])(n)),"aggregateLikes"==e.sortby?e.recipes=e.recipes.sort((function(e,t){return e.aggregateLikes-t.aggregateLikes})):"readyInMinutes"==e.sortby&&(e.recipes=e.recipes.sort((function(e,t){return e.readyInMinutes-t.readyInMinutes})))),e.$root.store.setLastSearch(e.recipes),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()},LastSearch:function(){this.recipes=[],console.log(this.$root.store.lastSearch),this.recipes=this.$root.store.lastSearch}}},v=f,b=(r("c5fc"),Object(d["a"])(v,n,a,!1,null,"2025bd55",null));t["a"]=b.exports},"9c0c":function(e,t,r){},af32:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",{staticClass:"title"},[e._v("Login")]),r("b-form",{on:{submit:function(t){return t.preventDefault(),e.onLogin(t)}}},[r("b-form-group",{attrs:{id:"input-group-Username","label-cols-sm":"3",label:"Username:","label-for":"Username"}},[r("b-form-input",{attrs:{id:"Username",type:"text",state:e.validateState("username")},model:{value:e.$v.form.username.$model,callback:function(t){e.$set(e.$v.form.username,"$model",t)},expression:"$v.form.username.$model"}}),r("b-form-invalid-feedback",[e._v(" Username is required ")])],1),r("b-form-group",{attrs:{id:"input-group-Password","label-cols-sm":"3",label:"Password:","label-for":"Password"}},[r("b-form-input",{attrs:{id:"Password",type:"password",state:e.validateState("password")},model:{value:e.$v.form.password.$model,callback:function(t){e.$set(e.$v.form.password,"$model",t)},expression:"$v.form.password.$model"}}),r("b-form-invalid-feedback",[e._v(" Password is required ")])],1),r("b-button",{staticClass:"mx-auto w-100",staticStyle:{width:"100px",display:"block"},attrs:{type:"submit",variant:"primary"}},[e._v("Login")]),r("div",{staticClass:"mt-2"},[e._v(" Do not have an account yet? "),r("router-link",{attrs:{to:"register"}},[e._v(" Register in here")])],1)],1),e.form.submitError?r("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Login failed: "+e._s(e.form.submitError)+" ")]):e._e()],1)},a=[],i=(r("96cf"),r("1da1")),o=r("b5ae"),s={name:"Login",data:function(){return{form:{username:"",password:"",submitError:void 0}}},validations:{form:{username:{required:o["required"]},password:{required:o["required"]}}},methods:{validateState:function(e){var t=this.$v.form[e],r=t.$dirty,n=t.$error;return r?!n:null},Login:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.post(e.$root.store.server_domain+"/Login",{user_name:e.form.username,password:e.form.password});case 3:t.sent,console.log(e.$root.store.login),e.$root.store.login(e.form.username),e.$router.push("/"),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0.response),e.form.submitError=t.t0.response.data.message;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},onLogin:function(){this.form.submitError=void 0,this.$v.form.$touch(),this.$v.form.$anyError||this.Login()}}},c=s,u=(r("5e4f"),r("2877")),l=Object(u["a"])(c,n,a,!1,null,"10ab7f28",null);t["a"]=l.exports},b4de:function(e,t,r){},c5fc:function(e,t,r){"use strict";var n=r("1aef"),a=r.n(n);a.a}});
//# sourceMappingURL=app.d8496eb6.js.map